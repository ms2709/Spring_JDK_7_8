<!DOCTYPE html>
<html lang="en" >
<head>
    <meta charset="UTF-8">
    <title>Sample Chat</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../bower_components/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="../src/css/style.css">
    <link rel="stylesheet" href="../src/css/themes.css">
    <link rel="stylesheet" href="style.css">

    <script src="../bower_components/lodash/dist/lodash.js"></script>
    <script src="../bower_components/jquery/dist/jquery.js"></script>
    <script src="../bower_components/angular/angular.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.js"></script>
    <script src="http://cdn.jsdelivr.net/sockjs/1/sockjs.min.js"></script>

    <script src="../src/scripts/chatd.js"></script>
</head>
<body >
        <div class="chat-container" ng-app="app"  ng-controller="ctrl as vm" class="ng-scope">
        <chat-directive theme="chat-th-material"
              submit-button-text="Send Message"
              input-placeholder-text="You can write here ..."
              send-message="vm.sendMessage"
              messages="vm.messages"
              user-name="vm.userName"
              visible="true"
              title="vm.title"></chat-directive>
        </div>
</body>

<script type="text/javascript">
    angular.module('app', ['chat.module', 'chat.services']).controller('ctrl', ctrl);

    function ctrl($http, chatService){
        var vm = this;

        vm.title = "화재발생";
        vm.userName = 'Matt';
        vm.messages = [
            {
                'userName': 'Matt',
                'content': 'Hi!'
            },
            {
                'userName': 'Elisa',
                'content': 'Whats up?'
            },
            {
                'userName': 'Matt',
                'content': 'I found this nice AngularJS Directive'
            },
            {
                'userName': 'Elisa',
                'content': 'Looks Great!'
            }
        ];

        this.sendMessage = function (message, userName) {
            if(message && message !== '' && userName){
                vm.messages.push({
                    'userName':userName,
                    'content':message
                });
            }
        }
    }
</script>
</html>